<div class="text-center m-3">
  <div class="card mb-4">
    <div class="card-header">
      <h5 class="text-uppercase">Your Site</h5>
    </div>
    <div class="card-body">
      <h3 *ngIf="activeUser !== undefined">
        {{activeUser['activeSite']}}
      </h3>
      <h3 *ngIf="activeUser === undefined || activeUser['activeSite'].length < 1">
        -
      </h3>
      <hr>
      <h6>({{entireDate}})</h6>
    </div>
  </div>
  <div
    *ngIf="activeUser !== undefined && activeUser.designation !== undefined && activeUser.designation === 'Sub-Admin'"
    class="card mb-4">
    <!-- permission only if second level admin -->
    <div class="card-header">
      <h5 class="text-uppercase">Site Updates&nbsp;
        <span class="position-absolute right-1">
          <img alt="notification" height="20" src="https://image.flaticon.com/icons/png/512/1827/1827422.png"
               width="20"/>
        </span>
      </h5>
    </div>
    <div class="card-body">

      <!-- upload material -->
      <div>
        <input (change)="onFileSelected($event, true)" autocomplete="off" class="btn btn-primary"
               hidden
               id="uploadMaterial"
               name="image" type="file"/>
        <label class="border-dark btn btn-light btn-close-white w-75" for="uploadMaterial">
          &#x2750;&nbsp;Upload Material
        </label>
      </div>

      <!-- upload progress -->
      <div class="mt-2">
        <input (change)="onFileSelected($event, false)" autocomplete="off" class="btn btn-primary"
               hidden
               id="uploadProgress"
               name="image" type="file"/>
        <label class="border-dark btn btn-light btn-close-white w-75" for="uploadProgress">
          &#x262F;&nbsp;Upload Progress
        </label>
      </div>

    </div>
  </div>
  <div class="card mb-4">
    <div class="card-header">
      <h5 class="text-uppercase">Actions</h5>
    </div>
    <div class="card-body">
      <div class="row">
        <div *ngIf="(activeUser.currentStatus === 'Sign Out' || activeUser.currentStatus === '' || activeUser.currentStatus !== undefined || activeUser.currentStatus === 'At Lunch') && activeUser.currentStatus !== 'Sign In'"
             class="col-6">
          <button (click)="markStatus('Sign In')" [disabled]="checkActionEnableCondition()"
                  class="btn btn-primary btn-lg w-100">
            Sign In
          </button>
        </div>
        <div *ngIf="activeUser.currentStatus === 'Sign In'" class="col-6">
          <button (click)="markStatus('Sign Out')"
                  [disabled]="checkActionEnableCondition()" class="btn btn-danger btn-lg w-100">
            Sign Out
          </button>
        </div>
        <div class="col-6" *ngIf="activeUser.currentStatus === 'Sign In'">
          <button (click)="markStatus('At Lunch')"
                  [disabled]="checkActionEnableCondition()" class="btn btn-warning btn-lg w-100">
            At Lunch
          </button>
        </div>
      </div>
    </div>
  </div>
  <div *ngIf="activeUser.currentStatus !== 'Sign In' && activeUser.currentStatus !== 'At Lunch'" class="card mb-4">
    <div class="card-header">
      <h5 class="text-uppercase">Apply for leave</h5>
    </div>
    <div class="card-body">
      <div class="form-group mb-3">
        <label class="mb-2 text-capitalize text-black-50" for="reason">Enter reason for leave</label>
        <input [(ngModel)]="reason" class="form-control" id="reason" name="reason" placeholder="Type here...">
      </div>
      <hr>
      <button (click)="markStatus('On Leave')" [disabled]="reason.length < 3" class="btn btn-outline-dark btn-lg">
        Apply Leave
      </button>
    </div>
  </div>

  <!-- logout -->
  <button (click)="signOutUser()" class="btn btn-danger btn-lg w-75">
    Logout
  </button>
</div>
